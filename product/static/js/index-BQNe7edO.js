var c=(g,n,a)=>new Promise((d,r)=>{var i=e=>{try{o(a.next(e))}catch(s){r(s)}},m=e=>{try{o(a.throw(e))}catch(s){r(s)}},o=e=>e.done?d(e.value):Promise.resolve(e.value).then(i,m);o((a=a.apply(g,n)).next())});import{d as b,r as x,a as _,o as v,c as E,b as w,e as t,w as u,u as l,f as y,g as R,E as k,h as q,l as B,i as p,_ as C}from"./index-CzvhIu7P.js";import{E as f,a as I}from"./index-KErNApeX.js";import{E as V}from"./index-BDDkVizw.js";const N={class:"login"},U={class:"login-right"},F=b({__name:"index",setup(g){const n=y(),a=R(),d=x(),r=_({username:"",password:""}),i=_({username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:16,message:"长度在 3 到 5 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"blur"}]}),m=o=>c(this,null,function*(){if(!o||!(yield o.validate()))return;const s=yield B(r);s.code==200?a.query.redirect?(p.success("登录成功,跳转至先前页面"),n.push(decodeURIComponent(a.query.redirect))):(p.success("登录成功,跳转至首页"),n.push("/")):p.error(s.msg)});return(o,e)=>(v(),E("div",N,[e[4]||(e[4]=w("div",{class:"login-left"},"login",-1)),w("div",U,[t(l(I),{ref_key:"formRef",ref:d,model:r,"label-width":"80px",rules:i},{default:u(()=>[t(l(f),{label:"用户名",prop:"username"},{default:u(()=>[t(l(V),{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=s=>r.username=s),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),t(l(f),{label:"密码",prop:"password"},{default:u(()=>[t(l(V),{modelValue:r.password,"onUpdate:modelValue":e[1]||(e[1]=s=>r.password=s),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),t(l(f),null,{default:u(()=>[t(l(k),{type:"primary",onClick:e[2]||(e[2]=s=>m(d.value))},{default:u(()=>e[3]||(e[3]=[q("login")])),_:1})]),_:1})]),_:1},8,["model","rules"])])]))}}),j=C(F,[["__scopeId","data-v-22fe962b"]]);export{j as default};
